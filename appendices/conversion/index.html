
<!DOCTYPE html>
<html lang="tw">
  <head>
  <title>冒險模組轉換 | 地城世界 HTML SRD</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/css/sticky-footer.css" rel="stylesheet">
    <link href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/css/site.css" rel="stylesheet">

    
    
    
  </head>
  <body data-spy="scroll" data-target="#sidemenu">
  
<nav id="site-nav" class="navbar navbar-default navbar-fixed-top" role="navigation">
 
<div class="navbar-header">
 <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
   <span class="sr-only">Toggle navigation</span>
   <span class="icon-bar"></span>
   <span class="icon-bar"></span>
   <span class="icon-bar"></span>
 </button>
 <a class="navbar-brand" href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release">地城世界 HTML SRD</a>
</div>


<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
 <ul class="nav navbar-nav">
   <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown">本遊戲 <b class="caret"></b></a>
     <ul class="dropdown-menu">
       <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/introduction">簡介</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/playing_the_game">進行遊戲</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/example">遊玩範例</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/character_creation">角色創造</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/moves">動作</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/equipment">裝備與服務</a></li>
       <li class="divider"></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/moves_discussion">討論 - 動作</a></li>
     </ul>
   </li>
   <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown">職業 <b class="caret"></b></a>
     <ul class="dropdown-menu">
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/barbarian">野蠻人</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/bard">吟遊詩人</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/cleric">牧師</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/druid">德魯伊</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/fighter">戰士</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/immolator">燔祭者</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/paladin">聖武士</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/ranger">遊俠</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/thief">盜賊</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/wizard">法師</a></li>
       <li class="divider"></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/cleric/spells">牧師法術</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/wizard/spells">法師法術</a></li>
       <li class="divider"></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/classes/class_moves_discussion">討論 - 職業動作</a></li>
     </ul>
   </li>
   <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown">GM章節 <b class="caret"></b></a>
     <ul class="dropdown-menu">
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/gm/basics">基本</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/gm/first_session">第一次聚會</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/gm/fronts">前置</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/gm/the_world">世界</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/gm/advanced_delving">深入鑽研</a></li>
     </ul>
   </li>
   <li class="dropdown">
     <a href="#" class="dropdown-toggle" data-toggle="dropdown">怪物 <b class="caret"></b></a>
     <ul class="dropdown-menu">
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/overview">總覽</a></li>
       <li class="divider"></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/caverns">洞穴居族</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/folk">王國住民</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/woods">幽暗森林</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/undead">不死軍團</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/depths">下界深淵</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/planes">位面勢力</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/hordes">貪掠團夥</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/swamp">沼澤棲物</a> </li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/monsters/experiments">扭曲實驗體</a> </li>
     </ul>
    </li>
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">附錄 <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/appendices/conversion">冒險模組轉換</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/appendices/teaching">遊戲教學</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/appendices/npcs">速成NPC</a></li>
      </ul>
    </li>
    <li class="dropdown customNavItem dwg">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">地城世界帶團指南 <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/dwg/dungeonworldguide">地城世界帶團指南</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/dwg/sample_campaign_front">範例戰役前置</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/dwg/compendium_classes">範例概略職業</a></li>
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/dwg/example_of_play">遊玩範例</a></li>
      </ul>
    </li>
    <li class="dropdown customNavItem otherclass">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">第三方職業擴充 <b class="caret"></b></a>
      <ul class="dropdown-menu">
        <li><a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/3ppclass/branded">烙印者</a></li>
      </ul>
    </li>
    <li class="dropdown customNavItem otherclass">
      <a href="https://yusuke0405.booth.pm/items/3062464" target="_blank">ccfolia用盤面素材 </b></a>
    </li>
  </ul>
 
</div>
</nav>

  <nav id="sidemenu" class="col-md-2">
   <ul id="sidemenu-topnav" class="nav">
   </ul>
</nav>

  <div id="wrap">
    <div class="container">
      <div class="col-md-8 inner-container">
        
<h1>冒險模組轉換</h1>
<p class="NoIndent">
	你並不會總有做準備的時間。也許你們尚未打算完全投入這個遊戲──你們只是想淺嚐輒止，又或者你剛好在一場大型TRPG集會中有段想填上的四小時空檔，而你卻從未見過你面前的這群玩家。也可能你並不怎麼注重事前準備，也許你覺得直接拿現成的地圖來遊玩會更加有趣，或更進一步，你手頭上剛好有一個你最愛的老派冒險模組，而你正興致勃勃地打算使用地城世界的規則來主持它。在這個附錄章節中，我們將說明你該如何把其他規則系統的要素轉換並調整到地城世界中，讓你能夠使用本站的規則，保留相同的彈性與自由度來運行你最喜愛的冒險模組。</p>
<hr/>

<h2>總覽</h2>
<p class="NoIndent">
	要使用地城世界的規則來準備一場冒險模組，首先，你必須仔細閱讀該冒險模組以及地城世界的規則。就地城世界的規則來說，你會需要盡可能熟悉所有的基本規則、以及關於「前置」和「GM原則」的章節。前者將引導你調適冒險模組的框架，而後者將能幫助你專注在正確的方向上──從而使遊戲維持於符合這本書列出的風格和規則。你接著需要仔細閱讀冒險模組，並在這過程中特別留意以下四個主題。</p>
<ul>
	<li>地圖</li>
	<li>怪物</li>
	<li>魔法物品</li>
	<li>NPC和組織</li></ul>
<p>
	翻閱冒險模組，在過程中做些筆記，但不要覺得你需要記住所有事情。特別著重在數據資料的段落最後通常都會被忽略，而你也會希望在冒險中留下一些空間讓你和玩家們在遊玩過程中進一步發掘。</p>
<p>
	當你完成上述準備，你將會對整個冒險故事有一個廣泛的瞭解：參與其中的勢力團體、冒險中出現的特別或帥氣怪物、存在於這個世界上的威脅和危害、以及一些玩家角色們可能會感興趣的事物。現在，先把冒險模組放到一邊，並參照地城世界的前置章節：這會是你開始大部分準備的橋段。</p>
<hr/>

<h2>前置</h2>
<p class="NoIndent">
	在地城世界中，任何標準的冒險、情節、或遊戲聚會都是基於前置向外往玩家發展；前置有它預設的臨頭大難，玩家會對其作出反應，而在這之間的空白，則留給你們用玩的來看看會發生什麼事。這個道理同樣適用於冒險模組的轉換。仔細閱讀冒險模組，你將會注意到一些事物──NPC、有趣的場所、特別的怪物、以及可能對這個世界造成影響的組織、或一些等待被落實的事項。取決於冒險的規模，這些要素可能僅有少數幾個或更多。查看前置類型的列表，並利用這些要素來打造出不同的前置。</p>
<p class="Example">
	我打算要動手轉換一個我所鍾愛的老模組；我已經用許多不同的系統跑過它好幾次了，而我相信帶著我地城世界的玩家們經歷這場冒險也一定能讓他們驚艷。我快速地看過了模組的內容，讓自己回想起整個模組的大致樣貌：一座小鎮正被一個崇拜著覆鱗爬蟲之神的邪惡教團暗地威脅著。這聽起來相當有趣！在這個冒險中有一座秘密地城、腐敗的邪教教團、一大群發臭的戰蜥人、以及一群相當無助的冒險者──因為這整座小鎮都充斥著猜忌與責難。這是個情況相當惡劣的開頭，且有著許多壞事可供選擇。我決定把這些壞事統整到兩個主要的前置之中：邪教團體、以及戰蜥人部落。</p>
<p class="Example">
	現在，如果我想的話，我可以把那名住在洞穴中的納迦術士寫成一個獨立的前置，或者，我也可以為爬蟲之神本身寫一個戰役前置。不過由於我只打算為這場遊戲主持幾次聚會，因此我想讓故事集中。儘管我準備的這兩個前置會以某種方式互相作用，但它們有別於彼此，且獨立運作，因此我把它們區別了開來。</p>

<p class="NoIndent">
	你創建這些前置的方式一如往常：選擇危害、臨頭大難、以及惡兆，提出一或二個懸念，並確保你給自己保留了足夠的留白空間──這讓你能夠確實地讓角色們聯繫在一塊。通常來說，你會直接從你腦袋中的靈感萃取出這些玩意兒，但在這種情況下，你拿來轉換的冒險模組將會引導你。將這些前置想成故事的主題，並把危害當成你冒險模組中列出的元素。看看你在前置中記載的事物，如果玩家角色們完全沒有出面阻止它，事情又會怎樣發展。如果前置肆虐氾濫，它可能導致最糟的後果又是如何？這類字裡行間的資訊將會為你提供彈藥，協助你在冒險過程中進行硬動作。在這個步驟中，你將把模組中那些寫滿數據的NPC轉變成豐滿成熟的危害本身、或在前置中登場演出的成員。</p>
<p>
	如果冒險中存在任何你想為它們特別編寫自訂動作的陷阱、詛咒、或其他效果，現在就開始著手。很多老派地城冒險中都充斥著各種會要求玩家進行「豁免檢定」以避免承受有害效果的要素──這些事物經常可以被簡化成一個觸發「面對危險」擲骰的肇因，或若有必要，你也可以為它編寫一個完整且獨立的自訂動作。這裡的關鍵是要抓到冒險模組的意圖──它的精神──而不是完整轉換其中機制性的要素。</p>
<p>
	當你完成後，你將會得到一組前置，涵蓋了角色們將要面對的主要威脅以及各種危害。</p>
<hr/>

<h2>怪物</h2>
<p class="NoIndent">
	大部分出版的冒險模組中都會包含一到兩個你在其他地方看不到的獨特怪物──那些自創的怪物或深淵住民，以某種玩家們從未見識過的方式威脅著他們。讀遍整個冒險模組，並確保你已經掌握了牠們全部。在地城世界的規則中已經記載了許多怪物的數據，如果你喜歡的話，你可以直接記下牠們的數據寫在哪幾頁上，並繼續下一步的轉換作業。但如果你想要進一步把怪物的數據客製化、或想要創造出屬於你自己的獨特怪物，那麼你可以利用創建怪物的規則來實現這點。</p>
<p>
	在這個步驟中，試著先不要去考慮「平衡」怪物的強度、也不要太過在意怪物的 HP 或 護甲值 是否符合你的期望，而是多想想這個怪物會如何參與到這個世界之中。牠會嚇跑絕望的冒險者嗎？牠是會阻擋在他們前進的道路上、還是會拋出謎題考驗他們？牠在整個地成生態或冒險中的目的是什麼？轉換這些事物的核心精神而非表面數據永遠能讓你得到更好也更引人入勝的結果。若這頭怪物掌握著某個酷炫的能力或絕妙的把戲，而你很想為其編寫一個自訂動作，就放手去做吧！自訂動作正是使地城世界得以在不同團體之間展現獨特之處的要素，所以盡可能地利用它們吧。</p>
<p class="Example">
	我選擇的冒險模組中包含各種五花八門的怪物。理面有一隻掌握心靈控制能力的可怕納迦、一名能夠施展蛇神魔法的邪惡祭司、一大群殘暴的邪教徒、一隻龍龜、以及各種不同品種的蜥蜴、鱷魚、和蛇。牠們之中大部分都可以從地城世界的怪物環境設定中直接取用，但我打算至少為納迦和邪教領袖另外客製化牠們的數據。我希望讓牠們感覺起來新穎獨特，而我也正好有一些關於牠們看起來該是如何的酷炫想法。我將使用創建怪物的規則來著手實現我的想法。</p>

<h3>直接轉換 (Direct Conversion)</h3>
<p class="NoIndent">
	如果你在轉換冒險模組的過程中遇到某種你尚未創建過的怪物，且對牠還沒有熟悉到足以使用創建怪物的規則的話，你可以改為使用下列規則直接轉換牠。</p>

<h4>傷害</h4>
<p class="NoIndent">
	如果怪物的傷害只使用一顆骰子決定，且加值最高不超過+10，則保持原樣。如果怪物的傷害使用複數顆相同骰面的骰子，擲出所列的骰子，並取用最高的擲骰結果。若怪物使用複數顆骰面不同的骰子，只擲其中骰面最大的骰子，並取用最高的擲骰結果。</p>

<h4>HP</h4>
<p class="NoIndent">
	如果怪物的 HP 是以生命骰的方式呈現，則取第一顆生命骰的最大值，且每一顆額外的生命值都會再讓 HP 額外追加一點。若怪物的HP是直接以數值呈現，而非使用生命骰的話，則將 HP 除以 4。</p>

<h4>護甲值</h4>
<p class="NoIndent">
	如果怪物的 AC 為平均值，給牠 1 點護甲值。如果怪物的 AC 低於平均，則給牠 0 點護甲值。若怪物的 AC 很高，則給牠 ２ 點護甲值；3 點護甲值會體現再納些全身都是防禦的野獸身上。而若牠近乎無懈可擊，則給牠 4 點護甲值。若牠的防禦帶有魔法性質，則額外 +1 護甲值。</p>

<h4>動作 和 本能</h4>
<p class="NoIndent">
	看看怪物數據底下列出的特殊能力或攻擊項，這些正是構成其怪物動作的基礎資訊。</p>
<hr/>

<h2>地圖</h2>
<p class="NoIndent">
	地城世界和許多其他奇幻RPG遊戲最大的差異之一就在於地圖繪製的概念。你會在許多遊戲中看到一張方方正正的地圖上精確地指出了什麼東西位於什麼地方，它將提供盡可能多的細節，且除了相關地點的描述之外，幾乎沒有什麼留給想像力發揮的空間。地城世界則正好相反──地圖上留下了大量空白，並僅僅標記了一二個像是「刀鋒」或「恐怖」之類的字詞描述。如果你打算在地城世界中使用既有的冒險模組，那麼你最好把你的原則和目標事項謹記在心。其中最重要的是記住，做為GM，你的工作之一正是「畫出地圖，但適度留白」以及「詢問，並利用得到的答案」。</p>
<p>
	要達到這個目的，最好的辦法通常是趁你有時間的時候把整張地圖重新繪製一遍。不要試圖分毫不差地複製它，而是按你的意思徒手重繪，適度留白，並勾勒出新的場所。你並不需要完全依照原本地圖上的內容重畫，讓自己有點發揮創意的自由。重點是，給自己一些能夠留待日後發展的空間──讓玩家們在冒險中的回饋為你帶來驚喜，並賦予你日後創作的靈感。如果你事前就定案了整張地圖的樣貌，那麼你就再也沒有未知的地點可以探索了，不是嗎？挑選幾個原本地圖上你不敢興趣的場所或房間，抹除裡面的住民，添加一條或兩條新的隧道上去。這麼做將會讓你在開始遊戲之後，仍能保有轉圜發展的餘地。</p>
<p>
	就算你沒有時間或興趣把地圖重畫也沒關係。你可以直接把原本的地圖拿出來，簡單地記錄一下什麼東西可能會在什麼地方，並把剩餘的部分留空。當玩家們來到那個標有「4f」的房間時，不要查閱你的冒險模組，而是根據你做的筆記來設想那裡可能有著什麼、且可能發生什麼事。隨著遊戲的進行，你將會慢慢在自由即興發揮以及查詢事前準備之間找到一個舒適的平衡。</p>
<p class="Example">
	我的冒險模組所附帶的地圖儘管混合了許多有趣又酷炫的元素，但也摻雜了一些無聊的內容。我想要保留城市底下關於地城的大部分內容──戰蜥人們的巢穴、以及關押那些被俘虜村民的秘密洞穴──但我也打算把關於村莊本身的各種設定扔掉，留下空白。這樣我就能有一些空間來填入我透過詢問得到的答案，像是「你已經認識這裡的誰了？」和「是誰住在路邊那座廢棄的小屋中？」我做了一些筆記紀錄這張地圖和我所設計的前置之間會在哪裡交會，但其他大部分的區域，我就只是留下給自己日後探索的空間。</p>
<hr/>

<h2>魔法&amp;財寶</h2>
<p class="NoIndent">
	傳統上，出版的冒險模組中有兩個東西佔據了舉足輕重的地位，那就是財寶和魔法物品。然而在地城世界中，它們就沒有那麼重要了（因為這個規則的角色獎勵系統更著重在「行動」，而非「擁有」）。儘管如此，若能在地城中埋首奮戰之後、或是在探索失落的遺跡之後收穫到成堆的金幣或酷炫的魔法物品，仍是件值得興奮雀躍的事情。就跟地圖一樣，冒險模組中列出的各種東西可以為你提供相當實用的靈感想法──其中，那些特別在冒險文本中被提到的事物尤其重要（一把能用來破壞鎮守第四層樓的魔像的魔法寶劍、或是屬於被囚禁在三號房間的王子的墜飾）。</p>
<p>
	與處理怪物時的做法相似，你最好先掌握這些魔法物品被設計的用途：理解它們是「為了什麼」而存在這裡，而不是它們可能提供的傷害或護甲加值。地城世界並不是建立在財寶道具與角色等級之間的平衡上，因此你在閱讀冒險模組時只需要專注找尋那些酷炫、好玩、或有趣的事物，並在有需要的時候創建新的魔法物品就好（若有需要，你也可以為其編寫自訂動作）。這或許是轉換過程中最容易的步驟。再強調一次，你仍然可以在這裡為自己留下日後探索的空間。給自己做一些筆記，像是「瘋狂法師擁有一柄魔杖，它是做什麼的？」，然後在遊玩的過程中找出答案。詢問你的玩家們，看看他們會給你什麼樣的回答。讓他們透過<b>憶述見聞</b>來代替你做工：「你曾聽說過居住在這裡的瘋狂法師擁有一把古怪的魔杖，告訴我，那些關於它來歷的傳聞是怎麼說的？」</p>
<hr/>

<h2>導入動作 (Introductory Moves)</h2>
<p class="NoIndent">
這個步驟完全是非必須的，但當你需要主持一場地城世界的遊戲，而你的玩家們卻是一群在TRPG集會中初次見面的成員、或因為各種其他原因而不太可能完整經歷一場「第一次聚會」流程的話，那麼這個步驟就顯得相當有用。你可以利用冒險的多變性為冒險創造出不同的「引鉤」，編寫自訂動作，並在角色創建結束、但遊戲正式開始前進行它們。這些導入動作將被用來吸引故事中的角色，給他們一些特別的東西來做準備、或引導他們參與到即將發生的事件之中。你可以為每個職業分別撰寫不同的導入動作，或把他們通通合在一起處理。以下是個關於導入動作的範例：</p>
<div class="Example">
戰士，某個愛著你的人在你踏上冒險生涯之前給了你一份禮物。擲+魅力，並告訴我們他有多愛你。擲出10+時，選擇兩項傳家寶。擲出7-9時，選擇一項。擲出失敗時，嗯，起碼好意也是挺有價值的，對吧？
<ul style="margin-bottom: 0;">
	<li>一小瓶蛇毒血清</li>
	<li>一面散發著銀色光輝的盾牌</li>
	<li>一把蜥蜴形狀的老舊鏽蝕鑰匙</li></ul></div>
<p class="NoIndent">
	這類動作能讓玩家們感覺到他們的角色與當下的情境息息相關，並借此引導出更多可以用來填補遊戲世界，讓其充滿生命力的問題與回答。回憶一下前置中所描繪的危害，想想他們所威脅的事物、他們可能守護的財富、以及他們對這個世界的影響。以這些情報為源頭發展你的導入動作，為你們的冒險故事打造一個宏大且壯闊的開端。</p>


      </div>
    </div>
 </div>
      
<div id="footer">
<div class="container">
   <p class="NoIndent"><a href="http://deepeningdays.com/dungeon-world-html-srd/">地城世界 Dungeon World HTML SRD</a> &copy; 2013，Andrew Codispoti。 <a href="http://dungeon-world.com">Dungeon World</a> 的版權由 Sage Kobold Productions 所有，
   <br><a href="http://creativecommons.org/licenses/by/3.0/">CC-BY</a>保留部分權利，詳見<a href="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/license/">版權頁</a>。</p>
</div>
</div>



    
    <script src="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/jquery.js"></script>
    
    <script src="https://hazmole.github.io/Dungeon-World-HTML-SRD-release/bootstrap/js/bootstrap.min.js"></script>
    <script>
      $("#sidemenu-topnav").addClass('currentul');
      $("#sidemenu").prepend("<h3>目錄</h3>");
      $("h2, h1, .MonsterName, .SpellName, .MagicItem, .ExtraLayer").each(function(i) {
          var current = $(this);
          current.attr("id", "title" + i);
          var tag = current.prop("tagName");
          
          var link_text = current.html();
          if(current.context.className=="MonsterName" || current.context.className=="SpellName"){
            link_text = link_text.replace(/\<span class=\"Tags\"\>.*\<\/span\>/g, "");
          }
          if(current.context.className=="MagicItem"){
            link_text = link_text.replace(/\<span class=\"Tags\"\>.*\<\/span\>/g, "");
            link_text = " - "+link_text;
          }

          
          const eng_text = link_text.match(/\((.*)\)/)? link_text.match(/\((.*)\)/)[1]: link_text;
          link_text = link_text.replace(/\(.*\)/, "");

          if(current.context.className=="ExtraLayer"){
            link_text = " - - "+link_text;
          }
          else if(tag=="H2" || tag=="H3"){
            link_text = " - "+link_text;
          }
          


          

          current.addClass('anchor');

          var link_html = `<li class='currentli ${tag=="H1"? "headli": ""}'><a id='link${i}' href='#title${i}' title='${eng_text}'>${link_text}</a></li>`;
          $("ul.currentul").append( link_html );
      });
      $(".Tags").each(function(i) {
        var current = $(this);
        var tags_arr = current.html().split(", ");
        current.html(""+tags_arr.map(function(tag){
            var className = "";
            tag = tag.trim();
            if(isRangeTag(tag))         className = "red";
            if(isSizeTag(tag))          className = "green";
            if(isOrganizationTag(tag))  className = "blue";
            if(isSpellLevelTag(tag))    className = "purple";
            return `<tag class="${className}">${tag}</tag>`;
          }).join(" "));
      });
      $("#names p").each(function(i) {
        var names_match = $(this).html().match(/(.+\: )?(.+)/);
        if( names_match == null || names_match.length<3 ) return ;
        
        var names_head = names_match[1]? names_match[1]: "";
        var names_arr = names_match[2].split(", ").map(context => {
          const name_match = context.match(/(.+)\(([\w-’ ]+)\)/);
          return name_match? `<n title="${name_match[2]}">${name_match[1]}</n>`: context;
        });

        $(this).html(names_head + names_arr.join(", "));
      });

      function isSpellLevelTag(tag){
        return (tag.match(/等級 \d+|禱念|戲法|Level \d+|Rote|Cantrip/))? true: false;
      }
      function isRangeTag(tag){
        return (tag.match(/觸及|近身|及遠|短程|遠程|Hand|Close|Reach|Near|Far/))? true: false;
      }
      function isSizeTag(tag){
        return (tag.match(/微型|小型|大型|巨型|Tiny|Small|Large|Huge/))? true: false;
      }
      function isOrganizationTag(tag){
        return (tag.match(/成群|集團|單獨|Horde|Group|Solitary/))? true: false;
      }
    </script>
  </body>
</html>
